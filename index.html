<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/quarto.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="index_files/libs/quarto-html/anchor.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="index_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="index_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="index_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="index_files/libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="index_files/libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="index_files/libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">




<div style="text-align: center; margin-bottom: 20px;">
<h1 style="font-size: 3rem;">
Disparities in COVID-19 Outcomes
</h1>
<p>
 Rophence Ojiambo
</p>
<p>
 December 6, 2024
</p>
</div>
<p>COVID-19 had an unprecedented impact on public health, particularly among vulnerable populations. This project examines the disproportionate effects of the pandemic on racial and ethnic communities in the United States.</p>
<p>Below, you can navigate through the project components to explore the methodology, analysis, and findings.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset tabset-scrollable">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">Introduction</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href="">Packages Required</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Data Preparation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Exploratory Data Analysis</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-5" role="tab" aria-controls="tabset-1-5" aria-selected="false" href="">Summary</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-6" role="tab" aria-controls="tabset-1-6" aria-selected="false" href="">References</a></li></ul>
<div class="tab-content tabset-scrollable">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>The novel Coronavirus disease (COVID-19), caused by the serious acute respiratory syndrome (SARS-CoV-2)<span class="citation" data-cites="synowiec2021severe"><sup>[<a href="#ref-synowiec2021severe" role="doc-biblioref">1</a>]</sup></span> virus is a highly infectious respiratory disease, first identified in Wuhan, China, in December 2019<span class="citation" data-cites="zhu2020novel"><sup>[<a href="#ref-zhu2020novel" role="doc-biblioref">2</a>]</sup></span>. Since its emergence, the pandemic has impacted millions worldwide, with over 770 million confirmed cases and approximately 7 million deaths reported globally by the <a href="https://data.who.int/dashboards/covid19/cases?n=c"><strong>World Health Organization’s (WHO) Coronavirus (COVID-19) Dashboard</strong></a>. The COVID-19 pandemic, which was first traced in the United States in January 2020<span class="citation" data-cites="holshue2020first"><sup>[<a href="#ref-holshue2020first" role="doc-biblioref">3</a>]</sup></span>, highlighted and worsened existing health disparities, with racial and ethnic minority groups being disproportionately affected. Communities such as Black, Hispanic, Asian, and Native American populations faced higher rates of infection<span class="citation" data-cites="hooper2020covid"><sup>[<a href="#ref-hooper2020covid" role="doc-biblioref">4</a>]</sup></span>, hospitalizations<span class="citation" data-cites="garg2020hospitalization romano2021trends"><sup>[<a href="#ref-garg2020hospitalization" role="doc-biblioref">5</a>,<a href="#ref-romano2021trends" role="doc-biblioref">6</a>]</sup></span>, and mortality compared to White populations<span class="citation" data-cites="rossen2020excess gold2020race tai2021disproportionate"><sup>[<a href="#ref-rossen2020excess" role="doc-biblioref">7</a>–<a href="#ref-tai2021disproportionate" role="doc-biblioref">9</a>]</sup></span>. Understanding the patterns and magnitude of these disparities is critical for informing targeted public health interventions for future pandemics.</p>
</section>
<section id="problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="problem-statement">Problem Statement</h2>
<p>This project aims to investigate the disproportionate impact of the COVID-19 pandemic on racial and ethnic communities in the United States. By analyzing disparities in cases, deaths, hospitalizations, and testing rates across states and racial/ethnic groups, the research seeks to illuminate the differential burden of COVID-19 on these communities. The insights derived from this study will be vital for public health planning and policy making to promote equity and preparedness for future public health emergencies.</p>
</section>
<section id="data-and-methodology" class="level2">
<h2 class="anchored" data-anchor-id="data-and-methodology">Data and Methodology</h2>
<p>To explore these disparities, I will utilize the following datasets:</p>
<ul>
<li><strong>Nation level: us.csv</strong></li>
<li><strong>State level: us-states.csv</strong></li>
</ul>
<p>The above two datasets contain the US COVID-19 data (cumulative cases and deaths) till 03/23/2023, and were originally obtained from <a href="https://www.nytimes.com/interactive/2021/us/covid-cases.html">The New York Times</a>, <a href="https://github.com/nytimes/covid-19-data">Github repository</a></p>
<p>Additionally, I will use the following external data sets to improve the analysis on the required data:</p>
<ul>
<li><a href="https://covidtracking.com/race"><strong>COVID Racial Data Tracker</strong></a>: Provides state-level information on cumulative COVID-19 cases and deaths (overall and by racial/ethnic group), as well as the number of hospitalizations and tests conducted by racial/ethnic group.</li>
<li><a href="https://data.census.gov/table/ACSDP5Y2019.DP05"><strong>American Community Survey (ACS) Demographic and Housing 5-Year Estimates (2019)</strong></a>: Contains U.S. population and state-level population estimate data for 2019, enabling the calculation of rates for cases, deaths, hospitalizations, and testing across racial and ethnic groups.</li>
</ul>
<p>These datasets will be merged to facilitate a comprehensive analysis of state-level disparities.</p>
</section>
<section id="proposed-analytic-approach" class="level2">
<h2 class="anchored" data-anchor-id="proposed-analytic-approach">Proposed Analytic Approach</h2>
<p>The analysis will involve the following steps:</p>
<ol type="1">
<li><strong>Exploratory Data Analysis:</strong></li>
</ol>
<ul>
<li>Data cleaning, transformation of variables, missing data,</li>
</ul>
<ol start="2" type="1">
<li><strong>Descriptive Analysis and Data Visualization:</strong></li>
</ol>
<ul>
<li>Overall description of Total Covid Cases and Deaths</li>
<li>Calculate national and state-level rates for COVID-19 cases, deaths, hospitalizations, and tests.</li>
<li>Use visualizations such as bar charts and maps to compare these counts/rates across states and changes over time.</li>
</ul>
<ol start="3" type="1">
<li><strong>Correlation Analysis:</strong></li>
</ol>
<ul>
<li>COVID-19 cases, deaths, hospitalizations, and tests by racial and ethnic groups and changes over time as the pandemic progressed.</li>
<li>Fit a multiple linear regression model to examine the relationship between race, number of tests, number of hospitalizations and COVID-19 deaths.</li>
</ul>
</section>
<section id="contribution" class="level2">
<h2 class="anchored" data-anchor-id="contribution">Contribution</h2>
<p>This analysis will shed light on how the COVID-19 pandemic disproportionately affected racial and ethnic minorities in the United States. By examining and comparing the differences in cases, deaths, and hospitalizations across populations and states, this project will highlight areas where inequities are most severe. The findings can help leaders and public health officials focus their efforts, distribute resources fairly, and address the underlying issues that make some communities more vulnerable during health crises.</p>
</section>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>Next, we load all the packages required for the analysis</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Loading required libraries</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)   <span class="co"># A collection of R packages for data manipulation, visualization, and analysis</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(kableExtra)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DT)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(glue)        <span class="co"># For creating and combining strings with embedded variables or expressions</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)   <span class="co"># For working with dates and times in a user-friendly way</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)     <span class="co"># For handling string operations like pattern matching, substitution, etc.</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(naniar)      <span class="co"># For managing and visualizing missing data in datasets</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(usdata)      <span class="co"># For working with datasets specific to the United States, including state and county data</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)     <span class="co"># For creating and customizing data visualizations</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(htmltools)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<section id="original-source" class="level2">
<h2 class="anchored" data-anchor-id="original-source">Original Source</h2>
<section id="national-level-and-state-level-data" class="level3">
<h3 class="anchored" data-anchor-id="national-level-and-state-level-data">National-level and State-level data</h3>
<p>The national-level (<code>us.csv</code>) and state-level (<code>us-states.csv</code>) COVID-19 datasets were sourced from <a href="https://www.nytimes.com/interactive/2021/us/covid-cases.html">The New York Times</a> and are publicly accessible through their <a href="https://github.com/nytimes/covid-19-data">GitHub repository</a>. These datasets document cumulative COVID-19 cases and deaths across the United States up to March 23, 2023. Compiled by a dedicated team of journalists, the data was gathered by monitoring press conferences, analyzing public health reports, and seeking clarification from officials to ensure accuracy and completeness. This effort addressed challenges in a fragmented public health system, where overwhelmed state, county, and territorial agencies often struggled with consistent and timely reporting. The datasets include both confirmed and probable cases and deaths, adhering to definitions established by the Council of State and Territorial Epidemiologists and the Centers for Disease Control and Prevention (CDC). Corrections or reassignments between counties or states sometimes led to declines in reported cases or deaths on certain dates. The case counts represent all cases, including individuals who recovered or died. Updated daily, the datasets reflect real-time changes, with retroactive corrections applied when errors were identified or new information became available. To preserve transparency, the datasets retain their raw reported values with no imputed values.</p>
<section id="variables-overview" class="level4">
<h4 class="anchored" data-anchor-id="variables-overview">Variables Overview</h4>
<ol type="1">
<li><strong><code>us.csv</code> (National-Level Data)</strong>: has 1,158 observations and 3 variables (<code>date</code>, <code>cases</code>, <code>deaths</code>)</li>
<li><strong><code>us-states.csv</code> (State-Level Data)</strong>: has 61,942 observations and 5 variables (<code>date</code>, <code>state</code>, <code>fips</code> (Federal Information Processing Standards (FIPS) code for geographic identification), <code>cases</code>, <code>deaths</code>)</li>
</ol>
</section>
</section>
<section id="american-community-survey-acs-demographic-and-housing-5-year-estimates-2019" class="level3">
<h3 class="anchored" data-anchor-id="american-community-survey-acs-demographic-and-housing-5-year-estimates-2019">American Community Survey (ACS) Demographic and Housing 5-Year Estimates (2019)</h3>
<p>The data for this analysis was obtained from the <a href="https://data.census.gov/table/ACSDP5Y2019.DP05?t=Populations%20and%20People&amp;g=010XX00US_040XX00US01,02,04,05,06,08,09,10,11,12,13,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,44,45,46,47,48,49,50,51,53,54,55,56,60,66,69,72,78">U.S. Census Bureau’s American Community Survey (ACS) 5-Year Estimates</a>. The Census Bureau’s <a href="https://www.census.gov/programs-surveys/popest/about.html">Population Estimates Program (PEP)</a> produces estimates of the population for the United States, its states, counties, cities, and towns, as well as for Puerto Rico. PEP annually utilizes current data on births, deaths, and migration to calculate population change since the most recent decennial census and produce a time series of estimates of population, demographic components of change, and housing units. These estimates are used in federal funding allocations, as survey controls, as denominators for vital rates and per capita time series, and as indicators of recent demographic changes. The ACS 5-Year Estimates (2019) include data collected from January 1, 2015, to December 31, 2019. As a sample survey, the ACS provides estimates accompanied by margins of error (MOE).</p>
<section id="variables-overview-1" class="level4">
<h4 class="anchored" data-anchor-id="variables-overview-1">Variables Overview</h4>
<ul>
<li><strong>Label</strong>: Represents the name of the geographic region (e.g., United States, individual states).</li>
<li><strong>Total population</strong>: The total population estimate for each geographic region.</li>
<li><strong>Two or more races</strong>: Population estimate for individuals who identify with two or more racial groups.</li>
<li><strong>White</strong>: Population estimate for individuals identifying as White.</li>
<li><strong>Black or African American</strong>: Population estimate for individuals identifying as Black or African American.</li>
<li><strong>American Indian and Alaska Native</strong>: Represents individuals identifying as Native American or Alaska Native.</li>
<li><strong>Asian</strong>: Population estimate for individuals identifying as Asian.</li>
<li><strong>Native Hawaiian and Other Pacific Islander</strong>: Represents individuals identifying as Native Hawaiian or Pacific Islander.</li>
<li><strong>Hispanic or Latino (of any race)</strong>: Population estimate for individuals identifying as Hispanic or Latino, regardless of their racial category.</li>
<li><strong>Not Hispanic or Latino</strong>: Population estimate for individuals identifying as non-Hispanic.</li>
</ul>
</section>
</section>
<section id="covid-racial-data-tracker-data" class="level3">
<h3 class="anchored" data-anchor-id="covid-racial-data-tracker-data">COVID Racial Data Tracker data</h3>
<p>The CRDT (COVID Racial Data Tracker) data, labelled <code>CRDT Data - CRDT.csv</code> was originally obtained from the <a href="https://covidtracking.com/race/about">COVID Racial Data Tracker</a>, a project developed in partnership with The <a href="https://covidtracking.com/">Atlantic’s COVID Tracking Project</a> and the <a href="https://www.bu.edu/antiracism-center/">Boston University Center for Antiracist Research</a>, founded by Activist and scholar Dr.&nbsp;Ibram X. Kendi. This dataset provides information on the racial and ethnic disparities in COVID-19 cases, deaths, hospitalizations, and tests conducted across 51 states/territories, meaning granular insights at the county or local levels are not directly available.. The data is publicly available and was accessed from the COVID Racial Data Tracker website, which served as a key resource during the pandemic to highlight inequities in COVID-19 outcomes. The original dataset, which can be directly using this <a href="https://docs.google.com/spreadsheets/d/e/2PACX-1vS8SzaERcKJOD_EzrtCDK1dX1zkoMochlA9iHoHg_RSw3V8bkpfk1mpw4pfL5RdtSOyx_oScsUtyXyk/pub?gid=43720681&amp;single=true&amp;output=csv">link</a>, includes <strong>5,320 rows</strong> and <strong>54 variables</strong>, covering data collected from <strong>April 12, 2020</strong>, to <strong>March 7, 2021</strong>, across various states/territories in the United States. The Racial Data Tracker aimed to collect racial and demographic data to understand the outbreak and protect vulnerable communities. In the original dataset, missing values were represented as blank cells. Upon loading the data into R, these blanks were automatically interpreted as <code>NA</code>. These missing entries occur because not all states reported COVID-19 data disaggregated by race or ethnicity consistently during the pandemic.</p>
<section id="variables-overview-2" class="level4">
<h4 class="anchored" data-anchor-id="variables-overview-2">Variables Overview</h4>
<ol type="1">
<li><strong>Date and State</strong>:
<ul>
<li><code>Date</code>: The reporting date in the format <code>YYYY-MM-DD</code>.</li>
<li><code>State</code>: The U.S. state or territory where data was reported.</li>
</ul></li>
<li><strong>COVID-19 Outcomes</strong>:
<ul>
<li><strong>Cases</strong>: Total and race/ethnicity-specific cumulative COVID-19 cases (e.g., <code>Cases_Total</code>, <code>Cases_White</code>, <code>Cases_Black</code>).</li>
<li><strong>Deaths</strong>: Total and race/ethnicity-specific cumulative deaths due to COVID-19 (e.g., <code>Deaths_Total</code>, <code>Deaths_White</code>, <code>Deaths_Black</code>).</li>
<li><strong>Hospitalizations (<code>Hosp_</code>)</strong>: Total and race/ethnicity-specific cumulative hospitalizations for COVID-19 (e.g., <code>Hosp_Total</code>, <code>Hosp_Black</code>).</li>
<li><strong>Tests (<code>Tests_</code>)</strong>: Total and race/ethnicity-specific COVID-19 tests conducted (e.g., <code>Tests_Total</code>, <code>Tests_Latinx</code>).</li>
</ul></li>
</ol>
<section id="racial-and-ethnic-groups" class="level5">
<h5 class="anchored" data-anchor-id="racial-and-ethnic-groups">Racial and Ethnic Groups</h5>
<p>The dataset categorizes individuals into the following racial and ethnic groups:</p>
<div id="tbl-racial-ethnic-groups" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-racial-ethnic-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: Racial and Ethnic Groups in the Dataset
</figcaption>
<div aria-describedby="tbl-racial-ethnic-groups-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 24%">
<col style="width: 75%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Variable</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>White</strong></td>
<td>Individuals identified as non-Hispanic White.</td>
</tr>
<tr class="even">
<td><strong>Black</strong></td>
<td>Individuals identified as non-Hispanic Black or African American.</td>
</tr>
<tr class="odd">
<td><strong>Latinx</strong></td>
<td>Individuals identified as Hispanic or Latino.</td>
</tr>
<tr class="even">
<td><strong>Asian</strong></td>
<td>Individuals identified as non-Hispanic Asian.</td>
</tr>
<tr class="odd">
<td><strong>AIAN</strong></td>
<td>Individuals identified as non-Hispanic American Indian or Alaska Native.</td>
</tr>
<tr class="even">
<td><strong>NHPI</strong></td>
<td>Individuals identified as non-Hispanic Native Hawaiian or Pacific Islander.</td>
</tr>
<tr class="odd">
<td><strong>Multiracial</strong></td>
<td>Individuals identified as belonging to multiple racial groups.</td>
</tr>
<tr class="even">
<td><strong>Other</strong></td>
<td>Individuals reported in categories not otherwise specified.</td>
</tr>
<tr class="odd">
<td><strong>Unknown</strong></td>
<td>Individuals whose racial or ethnic data were not reported or categorized. Missing values were left blank and interpreted as <code>NA</code> in R.</td>
</tr>
<tr class="even">
<td><strong>Hispanic Ethnicity</strong></td>
<td>Individuals identified as Hispanic Ethnicity</td>
</tr>
<tr class="odd">
<td><strong>Non-Hispanic Ethnicity</strong></td>
<td>Individuals identified as Non-Hispanic Ethnicity.</td>
</tr>
<tr class="even">
<td><strong>Ethnicity Unknown</strong></td>
<td>Individuals whose ethnicity was not recorded.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
</section>
</section>
</section>
<section id="data-importing-and-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-importing-and-cleaning">Data Importing and Cleaning</h2>
<section id="processing-and-cleaning-the-state-level-and-national-level-and-population-estimates-data-sets" class="level3">
<h3 class="anchored" data-anchor-id="processing-and-cleaning-the-state-level-and-national-level-and-population-estimates-data-sets">Processing and Cleaning the state-level and national-level, and population estimates Data sets</h3>
<p>Four datasets were loaded for analysis: <code>us-states.csv</code> (state-level COVID-19 data), <code>us.csv</code> (national-level COVID-19 data), <code>CRDT Data - CRDT.csv</code> (COVID Racial Data Tracker), and <code>ACSDP1Y2019.DP05-2024-11-18T022938.csv</code> (American Community Survey population data). Each dataset was checked for duplicate rows using the <code>duplicated()</code> function, and no duplicates were found in any of the datasets.</p>
<p>Column names in <code>population_data</code> were reformatted to follow a consistent naming convention, replacing blank spaces with underscores for easier referencing. No missing values were found.</p>
<p>The <code>us_states_data</code> dataset was created by merging <code>states_data</code> with national-level data from <code>us.csv</code> to integrate state-level and national trends. Population data (<code>Population_Total</code>) was merged into <code>us_states_data</code> to enable rate calculations for cases and deaths. The <code>us_states_data</code> dataset was filtered to retain only the states present in <code>population_data</code>, ensuring alignment between datasets. Next, we further summarized the state-level data to retain only the last recorded observation for each state within each month. To achieve this, we first extracted the <code>year</code> and <code>month</code> from the <code>date</code> column, which allowed us to group the data by <code>state</code>, <code>year</code>, and <code>month</code>. Within each group, we filtered the data to include only the row corresponding to the most recent date for that month, ensuring that the dataset captures the latest recorded statistics for each state at the monthly level.</p>
<p>Below is the summary information about the variables in the cleaned <code>monthly_data</code> dataset:</p>
<p>The <strong>date</strong> variable represents the latest recorded observation date for each month and state, with additional columns for <strong>month</strong> and <strong>year</strong> extracted from the date. The <strong>state</strong> variable identifies the location where the data was collected. Key measures include <strong>cases_state</strong> and <strong>deaths_state</strong>, representing the cumulative COVID-19 cases and deaths reported within each state by the recorded date. National-level statistics are provided through <strong>cases_us</strong> and <strong>deaths_us</strong>, which reflect cumulative COVID-19 cases and deaths across the United States. Population data is captured in the <strong>Population_Total</strong> variable, sourced from the American Community Survey estimates. <strong>state_cases_rate</strong> and <strong>state_deaths_rate</strong> provide state-level case and death rates per 100,000 population, while <strong>us_cases_rate</strong> and <strong>us_deaths_rate</strong> offer the same metrics at the national level.</p>
</section>
<section id="processing-and-cleaning-the-covid-racial-data" class="level3">
<h3 class="anchored" data-anchor-id="processing-and-cleaning-the-covid-racial-data">Processing and Cleaning the COVID Racial Data</h3>
<p>We also processed and cleaned the COVID racial data to ensure its suitability for analysis and to address issues such as missing values and irrelevant observations. The <code>Date</code> column was converted to a standard date format to enable temporal analysis. A summary of the dataset revealed a date range from April 12, 2020, to March 7, 2021, and a total of 5,320 rows with 54 variables. We assessed missing values across variables and states.</p>
<p>A state-wise analysis identified the top 10 states/territories with the highest overall missing values, helping to pinpoint data quality issues specific to geographic regions. These included; American Samoa, Northern Mariana Islands, Puerto Rico, Virgin Islands, North Dakota, Guam, West Virginia, Hawaii, New York, and Pennsylvania. Column names were cleaned for consistency, replacing spaces with underscores and standardizing terms like “Hosp” to “Hospitalized.” Racial categories such as “AIAN” and “NHPI” were kept in uppercase for clarity.</p>
<p>A column-wise analysis quantified the percentage of missing data for each variable, identifying variables with significant gaps as visualized in Figure.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Visualize missingness using naniar</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Matrix plot</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">gg_miss_var</span>(covid_racial_data) <span class="sc">+</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Missingness in the Covid Racial Data"</span>, <span class="at">x =</span> <span class="st">"Variables"</span>, <span class="at">y =</span> <span class="st">"Number of Missing Values"</span>) <span class="sc">+</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="index_files/figure-html/unnamed-chunk-7-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="index_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="2400"></a></p>
</figure>
</div>
</div>
</div>
<p>For the next step of the analysis, we chose to exclude the following territories (Puerto Rico, Virgin Islands, Guam, Northern Mariana Islands, American Samoa) because they had high levels of missingness and their population estimates were unavailable in the <code>population_data</code>.</p>
<p>Since the data collected was cumulative, missing values for key metrics (e.g., cases, deaths, hospitalizations, tests) were forward-filled within each state group. This ensured that subsequent analyses reflected the most recent available data, even for partially missing time points. Finally, the <code>monthly_racial_data</code> dataset was aggregated to retain only the last recorded observation for each month, grouped by state. This step reduced temporal granularity while maintaining monthly summaries essential for trend analysis.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace missing observations with the last available value</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>filtered_racial_data <span class="ot">&lt;-</span> filtered_racial_data <span class="sc">%&gt;%</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(State) <span class="sc">%&gt;%</span> </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(Date) <span class="sc">%&gt;%</span>  <span class="co"># Sort dates in ascending order</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fill</span>(Cases_White<span class="sc">:</span>Tests_Ethnicity_Hispanic, <span class="at">.direction =</span> <span class="st">"down"</span>) <span class="sc">%&gt;%</span>  <span class="co"># Fill missing values forward</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter to retain the last recorded date per month for each state</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>monthly_racial_data <span class="ot">&lt;-</span> filtered_racial_data <span class="sc">%&gt;%</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">year =</span> <span class="fu">year</span>(Date),                      <span class="co"># Extract the year from the date    </span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>         <span class="at">month =</span> <span class="fu">month</span>(Date, <span class="at">label =</span> <span class="cn">TRUE</span>)) <span class="sc">%&gt;%</span>  <span class="co"># Extract the month as a label</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(State, year, month) <span class="sc">%&gt;%</span>               <span class="co"># Group by state, year, and month</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Date <span class="sc">==</span> <span class="fu">max</span>(Date)) <span class="sc">%&gt;%</span>                  <span class="co"># Keep rows where the date is the maximum within each group</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(month, year, <span class="fu">everything</span>(), <span class="sc">-</span>Date)       <span class="co"># Rearrange columns: date, month, year, and all others</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The cleaned <code>monthly_racial_data</code> dataset provides detailed demographic information for analyzing COVID-19 cases, deaths, hospitalizations, and testing across racial and ethnic groups at the state level. The <strong>month</strong> and <strong>year</strong> variables indicate when the observations were recorded, while <strong>State</strong> represents the state using its two-letter abbreviation. The dataset includes cumulative counts of COVID-19 cases, deaths, hospitalizations, and tests, disaggregated by racial and ethnic groups. For racial categories, it provides variables for <strong>White</strong>, <strong>Black</strong>, <strong>Asian</strong>, <strong>American Indian or Alaska Native (AIAN)</strong>, <strong>Native Hawaiian or Pacific Islander (NHPI)</strong>, and <strong>Multiracial</strong> populations. Ethnicity-specific variables capture data for <strong>Hispanic</strong> individuals and <strong>non-Hispanic</strong> individuals, with further distinctions between cases, deaths, hospitalizations, and tests.</p>
</section>
<section id="aggregation-of-state-level-covid-racial-and-population-data" class="level3">
<h3 class="anchored" data-anchor-id="aggregation-of-state-level-covid-racial-and-population-data">Aggregation of State-Level, COVID Racial, and Population Data</h3>
<p>To prepare the combined state-level COVID-19 racial dataset for analysis, first,the <code>filtered_us_states_data</code> used to create the <code>monthly_data</code> in step was filtered to include only data between April 12, 2020, and March 7, 2021. This date range corresponds to the period covered by the <code>covid_racial_data</code>. Similarly, regions such as Puerto Rico, Virgin Islands, Guam, Northern Mariana Islands, and American Samoa were excluded due to significant missing data and the lack of reliable population estimates. This step allowed the focus to remain on states with complete and consistent data. Next, the <code>monthly_us_state_data</code> was created by only retaining the latest available observation (based on date) for each state, year and month. State names in the <code>monthly_us_state_data</code> and <code>population_data</code> datasets were converted to standardized abbreviations. This ensured compatibility when merging datasets and avoided mismatches due to variations in naming conventions.</p>
<p>Secondly, the <code>monthly_us_state_data</code> dataset was joined with the <code>monthly_racial_data</code> and <code>population_data</code>, to create the <code>combined_monthly_data</code> that has the integration of COVID-19 racial statistics with population metrics.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Join the datasets</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>combined_monthly_data <span class="ot">&lt;-</span> monthly_us_state_data <span class="sc">%&gt;%</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(monthly_racial_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"month"</span>, <span class="st">"year"</span>, <span class="st">"State"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(population_data, <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"State"</span>, <span class="st">"Population_Total"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Thirdly, in the <code>combined_monthly_data</code>, Rates for cases, deaths, hospitalizations, and tests were calculated for each racial/ethnic group by dividing the respective counts by the population of that group and scaling to 100,000. These standardized rates facilitate meaningful comparisons across states and demographic groups.</p>
<div class="cell">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate rates for columns 13 to 44 based on population values from columns 45 to 52</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>combined_monthly_data <span class="ot">&lt;-</span> combined_monthly_data <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">.cols =</span> <span class="dv">13</span><span class="sc">:</span><span class="dv">44</span>,  <span class="co"># Columns for cases, deaths, hospitalizations, tests</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">.fns =</span> <span class="sc">~</span> . <span class="sc">/</span> <span class="fu">get</span>(<span class="fu">sub</span>(<span class="st">"Cases|Deaths|Hospitalized|Tests"</span>, <span class="st">"Population"</span>, <span class="fu">cur_column</span>())) <span class="sc">*</span> <span class="dv">100000</span>,</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">.names =</span> <span class="st">"{.col}_rate"</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The cleaned dataset, <code>combined_monthly_data</code>, includes variables for monthly cases, deaths, hospitalizations, and tests for various racial and ethnic groups, along with population data and calculated rates. Below is a preview of the dataset structure:</p>
</section>
</section>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<p>4.1 Uncover new information in the data that is not self-evident (i.e.&nbsp;do not just plot the data as it is; rather, slice and dice the data in different ways, create new variables, or join separate data frames to create new summary information). 4.2 Provide findings in the form of plots and tables. Show me you can display findings in different ways. 4.3 Graph(s) are carefully tuned for desired purpose. One graph illustrates one primary point and is appropriately formatted (plot and axis titles, legend if necessary, scales are appropriate, appropriate geoms used, etc.). 4.4 Table(s) carefully constructed to make it easy to perform important comparisons. Careful styling highlights important features. Size of table is appropriate. 4.5 Insights obtained from the analysis are thoroughly, yet succinctly, explained. Easy to see and understand the interesting findings that you uncovered.</p>
</div>
<div id="tabset-1-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-5-tab">
<p>6.1 Summarize the problem statement you addressed. 6.2 Summarize how you addressed this problem statement (the data used and the methodology employed). 6.3 Summarize the interesting insights that your analysis provided. 6.4 Summarize the implications to the reader of your analysis. 6.5 Discuss the limitations of your analysis and how you, or someone else, could improve or build on it.</p>
</div>
<div id="tabset-1-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-6-tab">
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-synowiec2021severe" class="csl-entry" role="listitem">
1. Synowiec, A., Szczepański, A., Barreto-Duran, E., Lie, L. K., &amp; Pyrc, K. (2021). Severe acute respiratory syndrome coronavirus 2 (SARS-CoV-2): A systemic infection. <em>Clinical Microbiology Reviews</em>, <em>34</em>(2), 10–1128.
</div>
<div id="ref-zhu2020novel" class="csl-entry" role="listitem">
2. Zhu, N., Zhang, D., Wang, W., Li, X., Yang, B., Song, J., Zhao, X., Huang, B., Shi, W., Lu, R., et al. (2020). A novel coronavirus from patients with pneumonia in china, 2019. <em>New England Journal of Medicine</em>, <em>382</em>(8), 727–733.
</div>
<div id="ref-holshue2020first" class="csl-entry" role="listitem">
3. Holshue, M. L., DeBolt, C., Lindquist, S., Lofy, K. H., Wiesman, J., Bruce, H., Spitters, C., Ericson, K., Wilkerson, S., Tural, A., et al. (2020). First case of 2019 novel coronavirus in the united states. <em>New England Journal of Medicine</em>, <em>382</em>(10), 929–936.
</div>
<div id="ref-hooper2020covid" class="csl-entry" role="listitem">
4. Hooper, M. W., Nápoles, A. M., &amp; Pérez-Stable, E. J. (2020). COVID-19 and racial/ethnic disparities. <em>Jama</em>, <em>323</em>(24), 2466–2467.
</div>
<div id="ref-garg2020hospitalization" class="csl-entry" role="listitem">
5. Garg, S. (2020). Hospitalization rates and characteristics of patients hospitalized with laboratory-confirmed coronavirus disease 2019—COVID-NET, 14 states, march 1–30, 2020. <em>MMWR. Morbidity and Mortality Weekly Report</em>, <em>69</em>.
</div>
<div id="ref-romano2021trends" class="csl-entry" role="listitem">
6. Romano, S. D. (2021). Trends in racial and ethnic disparities in COVID-19 hospitalizations, by region—united states, march–december 2020. <em>MMWR. Morbidity and Mortality Weekly Report</em>, <em>70</em>.
</div>
<div id="ref-rossen2020excess" class="csl-entry" role="listitem">
7. Rossen, L. M. (2020). Excess deaths associated with COVID-19, by age and race and ethnicity—united states, january 26–october 3, 2020. <em>MMWR. Morbidity and Mortality Weekly Report</em>, <em>69</em>.
</div>
<div id="ref-gold2020race" class="csl-entry" role="listitem">
8. Gold, J. A. (2020). Race, ethnicity, and age trends in persons who died from COVID-19—united states, may–august 2020. <em>MMWR. Morbidity and Mortality Weekly Report</em>, <em>69</em>.
</div>
<div id="ref-tai2021disproportionate" class="csl-entry" role="listitem">
9. Tai, D. B. G., Shah, A., Doubeni, C. A., Sia, I. G., &amp; Wieland, M. L. (2021). The disproportionate impact of COVID-19 on racial and ethnic minorities in the united states. <em>Clinical Infectious Diseases</em>, <em>72</em>(4), 703–706.
</div>
</div>
</div>
</div>
</div>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","selector":".lightbox","loop":false,"descPosition":"bottom","closeEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>